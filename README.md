# –°–µ—Ç–µ–≤–æ–π —Å–∫–∞–Ω–µ—Ä —Å –≤–µ–±-—Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏

–°–∫–∞–Ω–µ—Ä —Å–µ—Ç–∏, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã –∏ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
network-scanner/
‚îú‚îÄ‚îÄ web.py              # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫–∞–Ω–µ—Ä
‚îú‚îÄ‚îÄ config.yaml         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .gitignore          # –ò—Å–∫–ª—é—á–µ–Ω–∏—è Git
‚îú‚îÄ‚îÄ run_tests.py        # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
‚îî‚îÄ‚îÄ tests/              # –¢–µ—Å—Ç—ã
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îî‚îÄ‚îÄ test_main.py    # –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/andrei-s96s/network_scan.git
cd network-scanner

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt
playwright install chromium
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
python web.py <—Å–µ—Ç—å> [–ø–æ—Ç–æ–∫–∏] [--no-json]
```

### –ü—Ä–∏–º–µ—Ä—ã

```bash
# –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏ —Å 10 –ø–æ—Ç–æ–∫–∞–º–∏ (JSON –∏ HTML –æ—Ç—á–µ—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
python web.py 172.30.1.0/24 10

# –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å 5 –ø–æ—Ç–æ–∫–∞–º–∏ (JSON –∏ HTML –æ—Ç—á–µ—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
python web.py 192.168.1.0/24 5

# –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ JSON –∏ HTML –æ—Ç—á–µ—Ç–æ–≤
python web.py 172.30.1.0/24 10 --no-json
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config.yaml` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

```yaml
# –¢–∞–π–º–∞—É—Ç—ã
probe_timeout: 5
web_timeout: 10

# –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –±—Ä–∞—É–∑–µ—Ä–∞
viewport_width: 1280
viewport_height: 720

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
log_level: "INFO"
log_file: "scanner.log"
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- **TCP —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: `scan-<—Å–µ—Ç—å>.txt`
- **JSON –æ—Ç—á–µ—Ç**: `scan-<—Å–µ—Ç—å>.json` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **HTML –æ—Ç—á–µ—Ç**: `scan-<—Å–µ—Ç—å>.html` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–í–µ–±-—Å–∫—Ä–∏–Ω—à–æ—Ç—ã**: `./web/<ip>/<–ø–æ—Ä—Ç>.png`
- **–õ–æ–≥–∏**: `scanner.log`

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ñ–∞–π–ª–æ–º –∏ –∫–æ–Ω—Å–æ–ª—å—é
2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: YAML —Ñ–∞–π–ª –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ —Å–µ—Ç–µ–≤—ã—Ö –∞–¥—Ä–µ—Å–æ–≤
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –ë—Ä–∞—É–∑–µ—Ä —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
5. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
6. **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
7. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—É–±–ª–∏—á–Ω—ã—Ö —Å–µ—Ç—è—Ö
8. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –û–°**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–æ –±–∞–Ω–Ω–µ—Ä–∞–º —Å–µ—Ä–≤–∏—Å–æ–≤

## –ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ –ø–æ—Ä—Ç—ã

- 22 (SSH)
- 80 (HTTP)
- 443 (HTTPS)
- 135 (RPC)
- 139 (NetBIOS)
- 445 (SMB)
- 3389 (RDP)
- 5985 (WinRM HTTP)
- 5986 (WinRM HTTPS)
- 1433 (MSSQL)
- 3306 (MySQL)
- 5432 (PostgreSQL)
- 161 (SNMP)
- 5060 (SIP)
- 5061 (SIP-TLS)
- 10000 (IP Phone Web)
- 8080 (Alternative Web)
- 554 (RTSP)
- 8000 (IP Camera Web)
- 37777 (Dahua Camera)
- 37778 (Dahua Camera)

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –û–°

–°–∫–∞–Ω–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –ø–æ –±–∞–Ω–Ω–µ—Ä–∞–º —Å–µ—Ä–≤–∏—Å–æ–≤:

### Windows
- IIS (Microsoft-IIS)
- Exchange Server
- SMB/CIFS —Å–µ—Ä–≤–∏—Å—ã
- RDP (Remote Desktop)
- WinRM (Windows Remote Management)

### Linux
- Ubuntu, Debian, CentOS, RedHat, Fedora
- OpenSSH (—á–∞—â–µ –Ω–∞ Linux)
- Apache, Nginx –≤–µ–±-—Å–µ—Ä–≤–µ—Ä—ã

### Unix
- FreeBSD, OpenBSD, NetBSD
- Solaris
- –î—Ä—É–≥–∏–µ Unix-–ø–æ–¥–æ–±–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã

### –°–µ—Ç–µ–≤—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- SNMP —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (—Ä–æ—É—Ç–µ—Ä—ã, —Å–≤–∏—Ç—á–∏, –ø—Ä–∏–Ω—Ç–µ—Ä—ã)
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å community string "public"

### IP –¢–µ–ª–µ—Ñ–æ–Ω—ã
- SIP —Å–µ—Ä–≤–µ—Ä—ã (–ø–æ—Ä—Ç—ã 5060, 5061) —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –æ—Ç–≤–µ—Ç–æ–≤
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã IP —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ (–ø–æ—Ä—Ç 10000)
- Cisco, Yealink, Grandstream —Ç–µ–ª–µ—Ñ–æ–Ω—ã
- Asterisk, FreePBX —Å–µ—Ä–≤–µ—Ä—ã

### IP –ö–∞–º–µ—Ä—ã
- RTSP —Å–µ—Ä–≤–∏—Å—ã (–ø–æ—Ä—Ç 554) —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –æ—Ç–≤–µ—Ç–æ–≤
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã IP –∫–∞–º–µ—Ä (–ø–æ—Ä—Ç 8000)
- Dahua, Hikvision, Axis, Foscam –∫–∞–º–µ—Ä—ã
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—ã Dahua (37777, 37778)

### –£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
- **RDP (3389)**: –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π RDP connection request –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- **PostgreSQL (5432)**: –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ startup message
- **SIP (5060, 5061)**: –ü—Ä–æ–≤–µ—Ä–∫–∞ SIP/2.0 –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ OPTIONS –∑–∞–ø—Ä–æ—Å—ã
- **RTSP (554)**: –ü—Ä–æ–≤–µ—Ä–∫–∞ RTSP/1.0 –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ OPTIONS –∑–∞–ø—Ä–æ—Å—ã

**–í–∞–∂–Ω–æ**: –î–ª—è –ø–æ—Ä—Ç–æ–≤ 3389, 5432, 5060, 5061, 554 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è. –ï—Å–ª–∏ —Å–µ—Ä–≤–∏—Å –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –æ–∂–∏–¥–∞–µ–º—ã–º –æ–±—Ä–∞–∑–æ–º, –ø–æ—Ä—Ç –Ω–µ –±—É–¥–µ—Ç –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ –æ—Ç–∫—Ä—ã—Ç—ã–π.

## üìä –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:

- **–§–∞–π–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: `scan-<—Å–µ—Ç—å>.txt` - —Å–ø–∏—Å–æ–∫ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤
- **–°–∫—Ä–∏–Ω—à–æ—Ç—ã**: `./web/<ip>/<–ø–æ—Ä—Ç>.png` - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü  
- **–õ–æ–≥–∏**: `scanner.log` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–µ

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
```
172.30.1.1  80:HTTP/1.1 200 OK  443:open
172.30.1.11  22:SSH-2.0-OpenSSH_8.2p1  80:HTTP/1.1 200 OK
```

### –ü—Ä–∏–º–µ—Ä JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
```json
{
  "scan_info": {
    "network": "172.30.1.0/24",
    "scan_time": "2024-01-15T10:30:00",
    "total_hosts": 254,
    "hosts_with_ports": 5,
    "hosts_with_screenshots": 3
  },
  "hosts": [
    {
      "ip": "172.30.1.1",
      "ports": {
        "80": {
          "service": "HTTP",
          "response": "HTTP/1.1 200 OK",
          "status": "open"
        },
        "443": {
          "service": "HTTPS",
          "response": "open",
          "status": "open"
        }
      },
      "screenshots": 2,
      "summary": {
        "total_ports": 2,
        "web_ports": 2,
        "services": ["HTTP", "HTTPS"]
      }
    }
  ],
  "summary": {
    "total_ports_found": 8,
    "services_found": ["HTTP", "HTTPS", "SSH"],
    "web_services": 3
  }
}
```

### HTML –æ—Ç—á–µ—Ç
–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ñ–ª–∞–≥–∞ `--json` —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫—Ä–∞—Å–∏–≤—ã–π HTML –æ—Ç—á–µ—Ç —Å:
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- üåê –î–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É —Ö–æ—Å—Ç—É
- üîß –°–ø–∏—Å–∫–æ–º –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- üì∏ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞—Ö
- üé® –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π
- –°–æ–±–ª—é–¥–∞–π—Ç–µ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ –≤–∞—à–µ–π —Å—Ç—Ä–∞–Ω—ã
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –∞—Ç–∞–∫ –Ω–∞ —á—É–∂–∏–µ —Å–∏—Å—Ç–µ–º—ã

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
python run_tests.py

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
pytest tests/ --cov=web --cov-report=html

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
python -m pytest tests/test_scanner.py::TestConfig::test_config_defaults
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Config, load_config)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è (validate_network, validate_threads)
- ‚úÖ TCP —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (probe_port, tcp_scan)
- ‚úÖ –ú–µ–Ω–µ–¥–∂–µ—Ä –±—Ä–∞—É–∑–µ—Ä–∞ (BrowserManager)
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ —Ñ–∞–π–ª–∞

## üöÄ CI/CD

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞:

- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –Ω–∞ Python 3.8-3.11
- **–õ–∏–Ω—Ç–∏–Ω–≥** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –∫–æ–¥–∞ —Å flake8
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π —Å Bandit –∏ Safety
- **–°–±–æ—Ä–∫–∞** - —Å–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –¥–ª—è —Ä–µ–ª–∏–∑–∞

[![CI/CD Status](https://img.shields.io/badge/CI%2FCD-Passing-brightgreen)](https://github.com/andrei-s96s/network_scan/actions)

### üìä –û—Ç—á–µ—Ç—ã CI/CD
- **Actions** - –ø–æ–ª–Ω—ã–µ –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **Artifacts** - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤
- **Security** - –æ—Ç—á–µ—Ç—ã –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

